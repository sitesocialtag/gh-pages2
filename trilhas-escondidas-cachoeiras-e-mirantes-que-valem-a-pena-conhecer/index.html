<!DOCTYPE html><html lang="pt-br"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Trilhas escondidas, cachoeiras e mirantes que valem a pena conhecer</title><meta name="description" content="Se você é daqueles que gosta de sair do comum, fugir da muvuca e se aventurar por caminhos que quase ninguém conhece, vai&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://www.caravanadaaventura.com.br/trilhas-escondidas-cachoeiras-e-mirantes-que-valem-a-pena-conhecer/"><meta property="og:title" content="Trilhas escondidas, cachoeiras e mirantes que valem a pena conhecer"><meta property="og:image" content="https://www.caravanadaaventura.com.br/media/posts/8/trilhas-escondidas-cachoeiras-e-mirantes-que-valem-a-pena-conhecer.jpg"><meta property="og:image:width" content="1344"><meta property="og:image:height" content="768"><meta property="og:site_name" content="Caravana da Aventura"><meta property="og:description" content="Se você é daqueles que gosta de sair do comum, fugir da muvuca e se aventurar por caminhos que quase ninguém conhece, vai&hellip;"><meta property="og:url" content="https://www.caravanadaaventura.com.br/trilhas-escondidas-cachoeiras-e-mirantes-que-valem-a-pena-conhecer/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://www.caravanadaaventura.com.br/media/website/ico.JPG" type="image/x-icon"><link rel="stylesheet" href="https://www.caravanadaaventura.com.br/assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="https://www.caravanadaaventura.com.br/assets/css/style.css?v=bf024dc765279ce1fd7c398cc8ad4ed8"><noscript><link rel="stylesheet" href="https://www.caravanadaaventura.com.br/assets/css/noscript.css?v=efa867a99f5064d6729e4dc2008ad50b"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.caravanadaaventura.com.br/trilhas-escondidas-cachoeiras-e-mirantes-que-valem-a-pena-conhecer/"},"headline":"Trilhas escondidas, cachoeiras e mirantes que valem a pena conhecer","datePublished":"2025-09-09T00:00-03:00","dateModified":"2025-09-09T00:00-03:00","image":{"@type":"ImageObject","url":"https://www.caravanadaaventura.com.br/media/posts/8/trilhas-escondidas-cachoeiras-e-mirantes-que-valem-a-pena-conhecer.jpg","height":768,"width":1344},"description":"Se você é daqueles que gosta de sair do comum, fugir da muvuca e se aventurar por caminhos que quase ninguém conhece, vai&hellip;","author":{"@type":"Person","name":"Paulo Junior","url":"https://www.caravanadaaventura.com.br/autores/paulo-junior/"},"publisher":{"@type":"Organization","name":"Paulo Junior"}}</script><style>#wrapper > .bg {
               background-image: url(https://www.caravanadaaventura.com.br/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://www.caravanadaaventura.com.br/media/website/paisagem.jpg);
           }</style><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="is-preload post-template"><div id="wrapper"><header id="header"><a class="logo" href="https://www.caravanadaaventura.com.br/">Caravana da Aventura</a></header><nav id="nav"><ul class="links"><li><a href="https://www.caravanadaaventura.com.br/categorias/cidades/" target="_self">Cidades</a></li><li><a href="https://www.caravanadaaventura.com.br/categorias/atracoes/" target="_self">Atrações</a></li><li><a href="https://www.caravanadaaventura.com.br/categorias/onde-comer/" target="_self">Onde Comer</a></li><li><a href="https://www.caravanadaaventura.com.br/categorias/blog/" target="_self">Blog</a></li></ul><ul class="icons"><li><a href="https://www.facebook.com/CaravanaDaAventura" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li><li><a href="https://www.youtube.com/user/CaravanadaAventura" class="icon brands fa-youtube"><span class="label">YouTube</span></a></li></ul></nav><main id="main"><article class="post"><header class="major"><time datetime="2025-09-09T00:00" class="date">09/09/2025</time><h1>Trilhas escondidas, cachoeiras e mirantes que valem a pena conhecer</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://www.caravanadaaventura.com.br/media/posts/8/trilhas-escondidas-cachoeiras-e-mirantes-que-valem-a-pena-conhecer.jpg" loading="lazy" height="768" width="1344" alt="Trilhas escondidas, cachoeiras e mirantes que valem a pena conhecer"></figure><div class="post__inner post__entry"><p>Se você é daqueles que gosta de sair do comum, fugir da muvuca e se aventurar por caminhos que quase ninguém conhece, vai adorar o que vem por aí. Trilhas escondidas, cachoeiras secretas — daquelas que parecem ter sido deixadas pela natureza só pra você — e mirantes de cortar o fôlego estão a um passo de se tornarem seu novo refúgio favorito. Afinal, tem coisa melhor do que descobrir pedaços do mundo que poucos tiveram a sorte de ver? Sabe de uma coisa? É um tipo de viagem que mexe não só com as pernas, mas também com a alma. Se prepare, porque a jornada vai estar cheia de surpresas e um convite irresistível para se desconectar daquele ciclo frenético em que vivemos.</p><p></p><p>Quando pensamos em trilha, a primeira imagem que vem à cabeça costuma ser a de um caminho marcado, cheio de turistas com bastões coloridos e botas reluzentes — mas, honestamente, nem sempre é assim. Existem rotas escondidas, trilhas menos óbvias que parecem guardar segredos e histórias antigas, aquelas que os guias de turismo convencionais raramente mencionam. Algumas são simples e levam a cantinhos onde a paisagem rende uma paz inexplicável. Outras, mais desafiadoras, demandam um pouco de experiência, mas recompensam com vistas que você só encontra se estiver disposto a suar a camisa.</p><p></p><p>Quer saber? O legal dessas aventuras "off the beaten path" é justamente essa sensação de ser um explorador — um pouco Indiana Jones, um pouco criança descobrindo um esconderijo secreto. Bom, claro que você deve estar preparado, tem que respeitar seus limites, pensar no tempo, na hidratação, no que vestir. Mas não subestime o poder de uma boa trilha para renovar o espírito, mesmo que seja só uma limonada na boca do estômago, sabe?</p><p></p><h3>Como encontrar essas trilhas escondidas?</h3><p></p><p>Primeira dica: fuçar fora dos guias tradicionais. Aplicativos de trilhas como o Wikiloc ou o AllTrails são ótimos para ver rotas alternativas usadas por moradores ou aventureiros locais. Mas nada substitui ouvir uma história ao pé do ouvido: bater papo com moradores da região é quase um tesouro por si só. Eles conhecem caminhos que não aparecem em app nenhum e ainda recomendam aquela parada para um café, ou aquela sombra amiga para descansar.</p><p></p><p>Ah, e nem sempre é sobre a dificuldade da caminhada. Às vezes, aquelas trilhas mais suaves passam por paisagens que vão te deixar boquiaberto — riachos escondidos, pequenas quedas d’água, flora e fauna que você nem imaginava encontrar ali. A questão é ir com olhos e coração atentos, porque, cara, a natureza tem uma forma bem especial de se revelar.</p><p></p><h2>Cachoeiras pouco exploradas: o verdadeiro refresco da alma</h2><p></p><p>Tem tanta cachoeira por aí que a gente às vezes perde a conta! E olha, não estou falando apenas das famosas, que lotam nos feriados — mas das pequenas, singelas, onde você quase escuta o som da água só pra você. Essas escondidas são como aquele café especial que só o barista sabe fazer: simples, mas que deixa uma lembrança gostosa. Tem gente que fala que o segredo da vida está exatamente nesses momentos — sentar na pedra, sentir o cheiro da mata, a água gelada no pé e nada mais.</p><p></p><p>Sabe aquela sensação de leveza que dá quando você está imerso em um ambiente assim? Pois é, vale ouro. Algumas cachoeiras menores pedem uma trilha rápida, outras podem exigir escalaminhada ou até um pouco de coragem para atravessar um rio (sem exageros, claro). Por isso, ter um bom guia ou informações precisas ajuda — ninguém quer se perder no meio do nada, né?</p><p></p><p>Recentemente, virou moda também a busca por cachoeiras que seguem práticas sustentáveis e conscientes, onde a preservação é prioridade e você pode aprender um pouco sobre o ecossistema local. Assim, além de se refrescar, ainda leva aquela vibe boa de contribuir com a natureza. Porque turismo responsável, né? A gente adora e devia fazer sempre.</p><p></p><h3>Dicas para curtir a cachoeira que pouca gente conhece</h3><p></p><p><br></p><p></p><p>Ah, e uma última coisa: antes de cair na água, preste atenção no que está por baixo. Já pensou um pedacinho de tronco ou pedra te pegar de surpresa? A natureza é linda, mas também merece respeito e cuidado.</p><p></p><h2>Mirantes que fazem seu coração acelerar — e sua câmera também</h2><p></p><p>De repente, você chega naquele ponto alto e a vista te corta o fôlego de um jeito bom. Tudo se amplia, o cenário se abre totalmente, e parece até que o mundo ficou pequeno aos seus pés. Mirantes têm esse poder de dar uma perspectiva não só visual, mas também emocional, sabe? Eles fazem a gente pensar em como as coisas são gigantes e ao mesmo tempo delicadas.</p><p></p><p>É claro que alguns mirantes são mais conhecidinhos, frequentemente cheios de selfie sticks e turistas, mas existem aqueles que você precisa mesmo saber onde estão — e que, às vezes, exigem uma caminhada mais longa ou até uns minutos de escalada. Pode apostar: são sempre os que valem mais a pena. A quietude ali é quase sagrada, e o espetáculo de luz, especialmente no final da tarde, não tem preço.</p><p></p><p>Agora, uma coisa divertida: você já percebeu que quanto mais difícil é o acesso ao mirante, mais a gente se sente como se tivesse encontrado um segredo? Essa sensação é viciante e faz a gente voltar para tentar outros — até porque, sinceramente, cada região tem sua magia própria, sua combinação única de cores, luzes e formas.</p><p></p><h3>O que levar para aproveitar melhor a vista</h3><p></p><p>Além da câmera (ou do celular com bateria cheia!), vale a pena pensar em:</p><p></p><p><br></p><p></p><p>E, claro, paciência: às vezes o sol se esconde atrás das nuvens e a espera vale super a pena. Sabe aquele momento em que o céu pinta um cenário com tons alaranjados e roxos? É uma beleza que não se explica, só se sente — e a vontade de guardar na memória é imediata.</p><p></p><h2>Enquanto você programa sua próxima aventura...</h2><p></p><p>É inevitável pensar como esses lugares — seja a trilha pouco frequentada, a cachoeira escondida ou o mirante silencioso — oferecem mais do que um ponto turístico. Eles entregam experiências que tocam algo profundo na gente. Mesmo o simples ato de estar rodeado por árvores, com o som do vento e o cheiro da terra úmida... não é só passeio, é certa dose de cura para os dias pesados.</p><p></p><p>Aliás, você já reparou como a natureza consegue ser uma companheira silenciosa que entende tudo, sem precisar de palavras? E talvez seja isso que faça a gente querer voltar sempre, buscar novas paisagens, sentir aquela sensação de descoberta e surpresa — mesmo que seja só para lembrar que o mundo tem muito mais a oferecer do que imaginamos num dia qualquer na cidade.</p><p></p><p>Sem contar, claro, que encontrar <a href="https://www.caravanadaaventura.com.br/categorias/atracoes/" target="_blank">atrações</a> menos notórias é uma forma de se conectar com o turismo sustentável, valorizando o local e os pequenos negócios que vivem por ali. Você ajuda o lugar, e ele te retribui com momentos que vão além do óbvio.</p><p></p><h2>Um convite para você que está lendo agora</h2><p></p><p>Então, que tal começar a olhar para aquele destino da sua lista de forma diferente? Encare aquelas dicas de trilhas, cobice os locais onde poucos param e deixe que o inesperado te encontre. Pode parecer meio fora do radar, mas é justamente aí que as belezas mais reais e marcantes se escondem.</p><p></p><p>Não precisa ser atleta, nem expert em aventura — só curioso, aberto para sentir o suor da caminhada misturado à satisfação de uma paisagem nova. Ah, e juro que vale cada passo, cada respiração acelerada e até aquela preguiça inicial de levantar do sofá.</p><p></p><p>Porque, no final das contas, de que adianta só ver foto, se a gente pode estar ali, sentindo na pele e na alma o que o mundo tem pra contar? Bora? Você vai ver, a sensação é única.</p></div><footer class="post__inner post__footer"><p class="post__last-updated">This article was updated on 09/09/2025</p><div class="post__share-tag-container"><div class="post__tag"><h3>Tagged in:</h3><ul><li><a href="https://www.caravanadaaventura.com.br/categorias/atracoes/">Atrações</a></li></ul></div><div class="post__share"><button class="post__share-button js-post__share-button icon" aria-label="Share button"><i class="fas fa-share-alt"></i></button><div class="post__share-popup js-post__share-popup"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.caravanadaaventura.com.br%2Ftrilhas-escondidas-cachoeiras-e-mirantes-que-valem-a-pena-conhecer%2F" class="js-share icon brands fa-facebook-f" rel="nofollow noopener noreferrer"><span class="label">Facebook</span> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fwww.caravanadaaventura.com.br%2Ftrilhas-escondidas-cachoeiras-e-mirantes-que-valem-a-pena-conhecer%2F&amp;via=Caravana%20da%20Aventura&amp;text=Trilhas%20escondidas%2C%20cachoeiras%20e%20mirantes%20que%20valem%20a%20pena%20conhecer" class="js-share icon brands fa-x-twitter" rel="nofollow noopener noreferrer"><span class="label">Twitter</span> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fwww.caravanadaaventura.com.br%2Ftrilhas-escondidas-cachoeiras-e-mirantes-que-valem-a-pena-conhecer%2F&amp;media=https%3A%2F%2Fwww.caravanadaaventura.com.br%2Fmedia%2Fposts%2F8%2Ftrilhas-escondidas-cachoeiras-e-mirantes-que-valem-a-pena-conhecer.jpg&amp;description=Trilhas%20escondidas%2C%20cachoeiras%20e%20mirantes%20que%20valem%20a%20pena%20conhecer" class="js-share icon brands fa-pinterest" rel="nofollow noopener noreferrer"><span class="label">Pinterest</span> </a><a href="https://api.whatsapp.com/send?text=Trilhas%20escondidas%2C%20cachoeiras%20e%20mirantes%20que%20valem%20a%20pena%20conhecer https%3A%2F%2Fwww.caravanadaaventura.com.br%2Ftrilhas-escondidas-cachoeiras-e-mirantes-que-valem-a-pena-conhecer%2F" class="js-share icon brands fa-whatsapp" rel="nofollow noopener noreferrer"><span class="label">WhatsApp</span></a></div></div></div><div class="post__bio"><img src="https://www.caravanadaaventura.com.br/media/website/Paulo-Junior.jpeg" loading="lazy" height="77" width="77" alt="Paulo Junior"><div><h3><a href="https://www.caravanadaaventura.com.br/autores/paulo-junior/" class="invert" rel="author">Paulo Junior</a></h3></div></div></footer></article></main><footer id="copyright"><ul><li class="align-center"><a href="https://www.caravanadaaventura.com.br/termos-de-uso">Termos de Uso</a></li><li class="align-center"><a href="https://www.caravanadaaventura.com.br/politica-de-privacidade">Política de Privacidade</a></li><li class="align-center"><a href="https://www.caravanadaaventura.com.br/contato">Contato</a></li><li class="align-center"><a href="https://www.caravanadaaventura.com.br/sobre">A Caravana</a></li></ul><p class="align-center"><br>© 2011 - 2026 Caravana da Aventura. Todos direitos reservados.</p></footer></div><script src="https://www.caravanadaaventura.com.br/assets/js/jquery.min.js?v=c9771cc3e90e18f5336eedbd0fffb2cf"></script><script src="https://www.caravanadaaventura.com.br/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://www.caravanadaaventura.com.br/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://www.caravanadaaventura.com.br/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://www.caravanadaaventura.com.br/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://www.caravanadaaventura.com.br/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://www.caravanadaaventura.com.br/assets/js/main.min.js?v=56233c354bd814758be8bff42f7e13a5"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="89" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner pcb__banner--bar"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">Este blog usa cookies</div><div id="pcb-txt" class="pcb__txt">Selecione quais cookies deseja aceitar por meio das caixas de seleção abaixo; nosso site usa cookies para examinar o tráfego do site e a atividade do usuário enquanto estiver em nosso site, para fins de marketing e para fornecer funcionalidade de mídia social. <a href="https://www.caravanadaaventura.com.br/politica-de-privacidade/">Mais detalhes...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Gerenciar preferências</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Aceitar</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Configurações de Cookies</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">Utilizamos cookies para melhorar sua experiência de navegação, veicular anúncios ou conteúdo personalizado e analisar nosso tráfego. Ao clicar em "Aceitar todos", você concorda com o uso de cookies. <a href="https://www.caravanadaaventura.com.br/politica-de-privacidade/">Mais detalhes...</a></div><ul class="pcb__groups"></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Aceitar todos</button> <button type="button" class="pcb__btn pcb__btn--reject">Recusar todos</button> <button type="button" class="pcb__btn pcb__btn--save">Salvar</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Política de Cookies" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && (!cbConfig.initialLsState || cbConfig.initialLsState.indexOf(allowedGroup) === -1)) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>