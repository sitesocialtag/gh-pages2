<!DOCTYPE html><html lang="pt-br"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Termos de Uso - Caravana da Aventura</title><meta name="description" content="Termos de Uso Portal Caravana da Aventura Termos de uso do site Este documento contém os Termos de Uso do site CARAVANA DA AVENTURA,&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://www.caravanadaaventura.com.br/termos-de-uso/"><meta property="og:title" content="Termos de Uso"><meta property="og:site_name" content="Caravana da Aventura"><meta property="og:description" content="Termos de Uso Portal Caravana da Aventura Termos de uso do site Este documento contém os Termos de Uso do site CARAVANA DA AVENTURA,&hellip;"><meta property="og:url" content="https://www.caravanadaaventura.com.br/termos-de-uso/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://www.caravanadaaventura.com.br/media/website/ico.JPG" type="image/x-icon"><link rel="stylesheet" href="https://www.caravanadaaventura.com.br/assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="https://www.caravanadaaventura.com.br/assets/css/style.css?v=bf024dc765279ce1fd7c398cc8ad4ed8"><noscript><link rel="stylesheet" href="https://www.caravanadaaventura.com.br/assets/css/noscript.css?v=efa867a99f5064d6729e4dc2008ad50b"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.caravanadaaventura.com.br/termos-de-uso/"},"headline":"Termos de Uso","datePublished":"2025-10-08T19:39-03:00","dateModified":"2025-10-08T19:39-03:00","description":"Termos de Uso Portal Caravana da Aventura Termos de uso do site Este documento contém os Termos de Uso do site CARAVANA DA AVENTURA,&hellip;","author":{"@type":"Person","name":"Paulo Junior","url":"https://www.caravanadaaventura.com.br/autores/paulo-junior/"},"publisher":{"@type":"Organization","name":"Paulo Junior"}}</script><style>#wrapper > .bg {
               background-image: url(https://www.caravanadaaventura.com.br/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://www.caravanadaaventura.com.br/media/website/paisagem.jpg);
           }</style><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="is-preload page-template"><div id="wrapper"><header id="header"><a class="logo" href="https://www.caravanadaaventura.com.br/">Caravana da Aventura</a></header><nav id="nav"><ul class="links"><li><a href="https://www.caravanadaaventura.com.br/categorias/cidades/" target="_self">Cidades</a></li><li><a href="https://www.caravanadaaventura.com.br/categorias/atracoes/" target="_self">Atrações</a></li><li><a href="https://www.caravanadaaventura.com.br/categorias/onde-comer/" target="_self">Onde Comer</a></li><li><a href="https://www.caravanadaaventura.com.br/categorias/blog/" target="_self">Blog</a></li></ul><ul class="icons"><li><a href="https://www.facebook.com/CaravanaDaAventura" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li><li><a href="https://www.youtube.com/user/CaravanadaAventura" class="icon brands fa-youtube"><span class="label">YouTube</span></a></li></ul></nav><main id="main"><article class="post"><header class="major"><h1>Termos de Uso</h1><p class="post__inner"></p></header><div class="post__inner post__entry"><h1 class="pos-title">Termos de Uso</h1><div class="floatbox"><div class="pos-content"><div class="element element-textarea first last"><div><p><strong>Portal Caravana da Aventura</strong></p><p><strong>Termos de uso do site</strong></p><p>Este documento contém os Termos de Uso do site <strong>CARAVANA DA AVENTURA</strong>, cuja aceitação plena e integral é requisito para todos os seus usuários. Ele inclui, além dos termos gerais, os termos de Limitação de Responsabilidade, os Direitos de Propriedade e a Política de Privacidade e Confidencialidade.</p><p>O uso do <strong>CARAVANA DA AVENTURA</strong> indica a aceitação plena dos termos e condições descritos a seguir.</p><p><strong>Uso do Site</strong></p><p>O presente site, incluindo todos os seus recursos e conteúdo, é um serviço disponibilizado pela Idéia e Imagem Comunicação e todo o seu conteúdo, informações e serviços fornecidos só poderão ser usados exclusivamente de acordo com os termos e condições aqui descritos.</p><p>A violação de qualquer desses termos acarretará a revogação automática do direito de uso do website.</p><p><strong>Acesso ao Site</strong></p><p>O acesso ao site é oferecido ao usuário sem custo de qualquer espécie, mas o usuário deverá se cadastrar para poder dispor de serviços e informações adicionais. Ao se cadastrar no site como membro, o usuário indica estar de acordo com os Termos de Uso, bem como estar ciente das atualizações que venham a ocorrer de tempos em tempos através da leitura periódica dos Termos de Uso. O portal <strong>CARAVANA DA AVENTURA</strong> não se responsabiliza por qualquer atitude do usuário que venha a infringir os Termos de Uso. Caso o usuário não concorde com as alterações que venham a ocorrer ao longo das atualizações, deverá providenciar o cancelamento de seu cadastro imediatamente, através de solicitação formal por correio eletrônico para o endereço <a href="https://web.archive.org/web/20210516153525/mailto:cadastro@caravanadaaventura.com.br"><strong>cadastro@caravanadaaventura.com.br</strong></a>.</p><p><strong>Direitos de Propriedade</strong></p><p>A Ideia e Imagem Comunicação concede aos usuários autorização para visualizar e obter por download os materiais deste site exclusivamente para seu uso pessoal, e não comercial, desde que sejam preservados, em todas as cópias dos materiais, todos os avisos de direitos autorais e outras notificações de propriedade contidas nos materiais originais. O usuário não poderá modificar de modo algum os materiais deste site nem reproduzir, exibir publicamente, representar, distribuir ou utilizar de qualquer outra forma esses materiais para qualquer finalidade pública ou comercial.</p><p>É proibido qualquer uso desses materiais em qualquer outro site ou ambiente de computadores em rede para qualquer finalidade, salvo nos casos em que haja expressa autorização para tal. Os materiais deste site são protegidos por direitos autorais e qualquer uso não autorizado de quaisquer materiais deste site importará na violação das leis de direitos autorais, de marcas comercias e outras.</p><p><strong>Participação de usuários</strong></p><p>O <strong>CARAVANA DA AVENTURA</strong> considera que todas as contribuições dos usuários ao site são bem-vindas, desde que respeitados os princípios da netiqueta e as demais condições descritas nestes termos de uso.</p><p>Ao visitar, ler, postar sua mensagem ou de outra forma interagir com os recursos disponibilizados pelo <strong>CARAVANA DA AVENTURA</strong>, você está aceitando todas as condições mencionadas nestes Termos de Uso, com destaque para as seguintes condições gerais:</p><p>1) Reconhecer que não há presunção de anonimato, e que o conteúdo postado é de sua inteira responsabilidade, não podendo os autores e mantenedores do site serem implicados em quaisquer fatos decorrentes da postagem.</p><p>2) Reconhecer que as mensagens devem obedecer aos limites e preceitos da comunicação pública e de maneira alguma induzir outros usuários a atitudes tecnicamente incorretas, nem conter ofensas, vocabulário ofensivo, discriminação ou desrespeito a terceiros – incluindo calúnias, injúrias e difamações.</p><p>3) Reconhecer que o conteúdo postado deve estar de acordo com a legislação em vigor, sem material que possa ser considerado ilegal ou que incite ou favoreça práticas em desacordo com a legislação. E que toda informação registrada usando os recursos do site é considerada como pública, sem nenhum tipo de confidencialidade.</p><p>4) Reconhecer que os administradores do <strong>CARAVANA DA AVENTURA</strong> poderão, a qualquer momento, cancelar a inscrição de usuário que tenha utilizado dados falsos de identificação no processo de cadastramento. Para se identificar como autor, poderá o criador do conteúdo enviado ao <strong>CARAVANA DA AVENTURA</strong> usar de seu nome civil, completo ou abreviado até por suas iniciais, de pseudônimo ou qualquer outro sinal convencional. (Lei 9.610/1999, Art. 12). Não são permitidos conteúdos de autor não identificado e, embora não seja possível tecnicamente garantir que os pseudônimos e endereços de e-mail fornecidos sejam sempre corretos e identificáveis, a administração do site solicita seu correto preenchimento em todas as ocasiões.</p><p>5) Logins e identificações de usuário considerados inadequados pela administração do <strong>CARAVANA DA AVENTURA </strong>(incluindo casos de mais de um login para o mesmo usuário, palavras ou nomes ofensivos, identificações que possam levar os demais usuários a acreditar que você fala em nome de outra pessoa ou organização) podem ser desativados, removidos, ter seus privilégios de acesso reduzidos ou ter seu conteúdo tornado inacessível sem aviso.</p><p>O login registrado no <strong>CARAVANA DA AVENTURA</strong>, ou a disponibilização de conteúdo no mesmo, não geram nenhum direito de suporte, não cabendo qualquer tipo de reparação, compensação ou outra obrigação do <strong>CARAVANA DA AVENTURA</strong> em caso de cancelamento, suspensão, perda, indisponibilidade ou outra situação adversa que afete o acesso, os dados ou o conteúdo do usuário.</p><p><strong>Cadastro do usuário e senha</strong></p><p>Cada usuário é responsável pela manutenção da confidencialidade e das informações ligadas a sua pessoa, incluindo todos os acessos realizados com seu cadastro, sendo eles autorizados ou não. Caso ocorra algum uso não autorizado de seus dados, o usuário deverá imediatamente notificar o site do uso indevido de seu cadastro ou senha.</p><p><strong>Limitação de responsabilidade</strong></p><p>Em nenhuma situação o <strong>CARAVANA DA AVENTURA</strong>, seus autores, editores ou mantenedores são responsáveis por quaisquer danos, prejuízos ou outro efeito, direto ou indireto, relacionados ao uso, por parte de seus leitores ou de qualquer outra pessoa, deste website, de seu conteúdo ou de qualquer outro website aqui mencionado.</p><p>Em especial, o <strong>CARAVANA DA AVENTURA</strong> não classifica nem analisa o conteúdo que seus leitores acrescentam como comentários ou como participações nos blogs e demais áreas do site, mediadas ou não. Todo autor de conteúdo exibido no <strong>CARAVANA DA AVENTURA</strong> retém os seus direitos e responsabilidades autorais, nos termos da Lei 9.610/1998.</p><p><strong>Sites Externos</strong></p><p>Para sua conveniência e informação, este site proporciona links para sites de terceiros. O <strong>CARAVANA DA AVENTURA</strong> não tem controle sobre esses sites nem sobre suas práticas de privacidade, que podem ser diferentes das práticas de privacidade da <strong>CARAVANA DA AVENTURA</strong>. Não endossamos nem expressamos de qualquer forma nosso aval a sites de terceiros. A Política de Privacidade da <strong>CARAVANA DA AVENTURA</strong> não cobre os dados pessoais que você opte por fornecer a terceiros. Sugerimos que você examine atentamente as políticas de privacidade das empresas antes de fornecer dados e informações pessoais.</p><p><strong>Política de Privacidade e Confidencialidade</strong></p><p>Quando o usuário se cadastra em nosso site, será solicitado que o mesmo forneça algumas informações para identificação pessoal. O <strong>CARAVANA DA AVENTURA</strong> não irá repassar suas informações a terceiros a menos que com seu expresso consentimento ou por força de ação legal ou investigação policial.</p><p>O <strong>CARAVANA DA AVENTURA</strong> permite acesso ao seu banco de dados somente a técnicos responsáveis pela manutenção do sistema dentro do estritamente necessário, estando sua atuação regida pelo respeito a estes Termos.</p><p>O <strong>CARAVANA DA AVENTURA</strong> se reserva o direito de oferecer ao usuário serviços próprios ou de terceiros baseados nas preferências identificadas ao longo de seu cadastramento e escolhas subsequentes.</p><p>Utilizamos recursos de publicidade para veicular anúncios durante a sua visita ao nosso website. O usuário aceita que parceiros e anunciantes do site poderão usar recursos tecnológicos como cookies e web beacons, entre outros ao seu alcance, para adequar os anúncios exibidos a cada leitor, e que usuários que não desejarem disponibilizar este recurso devem desabilitá-lo usando as opções de seu navegador. Cookies e Web Beacons são informações que um site coloca no seu disco rígido de modo que ele possa "lembrar-se" de partes das informações a seu respeito quando visitar novamente o site ou um site relacionado.</p><p>O <strong>CARAVANA DA AVENTURA</strong> não compartilhará com terceiros os dados pessoais enviados em um cookie.</p></div></div></div></div></div></article></main><footer id="copyright"><ul><li class="align-center"><a href="https://www.caravanadaaventura.com.br/termos-de-uso">Termos de Uso</a></li><li class="align-center"><a href="https://www.caravanadaaventura.com.br/politica-de-privacidade">Política de Privacidade</a></li><li class="align-center"><a href="https://www.caravanadaaventura.com.br/contato">Contato</a></li><li class="align-center"><a href="https://www.caravanadaaventura.com.br/sobre">A Caravana</a></li></ul><p class="align-center"><br>© 2011 - 2026 Caravana da Aventura. Todos direitos reservados.</p></footer></div><script src="https://www.caravanadaaventura.com.br/assets/js/jquery.min.js?v=c9771cc3e90e18f5336eedbd0fffb2cf"></script><script src="https://www.caravanadaaventura.com.br/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://www.caravanadaaventura.com.br/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://www.caravanadaaventura.com.br/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://www.caravanadaaventura.com.br/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://www.caravanadaaventura.com.br/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://www.caravanadaaventura.com.br/assets/js/main.min.js?v=56233c354bd814758be8bff42f7e13a5"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="89" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner pcb__banner--bar"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">Este blog usa cookies</div><div id="pcb-txt" class="pcb__txt">Selecione quais cookies deseja aceitar por meio das caixas de seleção abaixo; nosso site usa cookies para examinar o tráfego do site e a atividade do usuário enquanto estiver em nosso site, para fins de marketing e para fornecer funcionalidade de mídia social. <a href="https://www.caravanadaaventura.com.br/politica-de-privacidade/">Mais detalhes...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Gerenciar preferências</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Aceitar</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Configurações de Cookies</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">Utilizamos cookies para melhorar sua experiência de navegação, veicular anúncios ou conteúdo personalizado e analisar nosso tráfego. Ao clicar em "Aceitar todos", você concorda com o uso de cookies. <a href="https://www.caravanadaaventura.com.br/politica-de-privacidade/">Mais detalhes...</a></div><ul class="pcb__groups"></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Aceitar todos</button> <button type="button" class="pcb__btn pcb__btn--reject">Recusar todos</button> <button type="button" class="pcb__btn pcb__btn--save">Salvar</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Política de Cookies" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && cbConfig.initialLsState.indexOf(allowedGroup) === -1) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>